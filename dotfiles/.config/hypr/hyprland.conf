################
### MONITORS ###
################

monitor=,1920x1080,auto,1

xwayland {
  force_zero_scaling = true
}

$terminal = ghostty
$fileManager = dolphin
$menu = rofi -show combi -combi-modes "drun,power:~/.config/rofi/powermenu" -modes combi
$calc = rofi -show calc -modi calc -no-show-match -no-sort -no-persist-history


#################
### AUTOSTART ###
#################

exec-once = dunst
exec-once = hypridle
exec-once = hyprpaper
exec-once = waybar

exec-once = firefox
exec-once = ghostty


#############################
### ENVIRONMENT VARIABLES ###
#############################

env = XCURSOR_SIZE,24
env = HYPRCURSOR_SIZE,24


#####################
### LOOK AND FEEL ###
#####################

general {
  border_size = 0

  gaps_in = 0
  gaps_out = 0

  layout = dwindle
}

decoration {
  dim_modal = true
  dim_inactive = true
  dim_strength = 0.2

  blur {
    enabled = true
    size = 5
    passes = 3
    vibrancy = 0.1696
  }

  shadow {
    enabled = true
    range = 4
    render_power = 3
    color = rgba(1a1a1aee)
  }
}

animations {
  enabled = yes

  bezier = easeOutQuint,0.23,1,0.32,1
  bezier = easeInOutCubic,0.65,0.05,0.36,1
  bezier = linear,0,0,1,1
  bezier = almostLinear,0.5,0.5,0.75,1.0
  bezier = quick,0.15,0,0.1,1

  animation = global, 1, 10, default
  animation = border, 1, 5.39, easeOutQuint
  animation = windows, 1, 4.79, easeOutQuint
  animation = windowsIn, 1, 4.1, easeOutQuint, popin 87%
  animation = windowsOut, 1, 1.49, linear, popin 87%
  animation = fadeIn, 1, 1.73, almostLinear
  animation = fadeOut, 1, 1.46, almostLinear
  animation = fade, 1, 3.03, quick
  animation = layers, 1, 3.81, easeOutQuint
  animation = layersIn, 1, 4, easeOutQuint, fade
  animation = layersOut, 1, 1.5, linear, fade
  animation = fadeLayersIn, 1, 1.79, almostLinear
  animation = fadeLayersOut, 1, 1.39, almostLinear
  animation = workspaces, 1, 1.94, almostLinear, fade
  animation = workspacesIn, 1, 1.21, almostLinear, fade
  animation = workspacesOut, 1, 1.94, almostLinear, fade
}

dwindle {
  pseudotile = true
  preserve_split = true
}

master {
  new_status = master
}

misc {
  focus_on_activate = true
  force_default_wallpaper = 0
  disable_hyprland_logo = true
}


#############
### INPUT ###
#############

input {
  kb_layout = us
  kb_variant =
  kb_model =
  kb_options = ctrl:nocaps
  kb_rules =

  follow_mouse = 1

  sensitivity = 0

  touchpad {
    natural_scroll = true
  }
}


###################
### KEYBINDINGS ###
###################

$mainMod = SUPER

bind = $mainMod SHIFT, Escape, exec, hyprctl reload && hyprctl notify -1 3000 0 "Config reloaded"
bind = $mainMod SHIFT, B, exec, pkill waybar && waybar &
bind = $mainMod SHIFT, F, togglefloating
bind = $mainMod SHIFT, A, fullscreenstate, 1 0

bind = $mainMod, Q, killactive,
bind = $mainMod, M, exit,
bind = $mainMod, Space, exec, $menu
bind = $mainMod SHIFT, Space, exec, $calc
bind = $mainMod SHIFT, P, exec, ~/.config/rofi/pocketwatch_menu
bind = $mainMod, Escape, exec, hyprlock
bind = , Print, exec, if area=$(slurp); then grim -g "$area" - | tee >(wl-copy) && dunstify "Screenshot copied to clipboard"; fi

# Move focus with mainMod + arrow keys
bind = $mainMod, left, movefocus, l
bind = $mainMod, right, movefocus, r
bind = $mainMod, up, movefocus, u
bind = $mainMod, down, movefocus, d

bind = $mainMod, H, movefocus, l
bind = $mainMod, L, movefocus, r
bind = $mainMod, K, movefocus, u
bind = $mainMod, J, movefocus, d

# Switch workspaces with mainMod + [0-9]
bind = $mainMod, 1, workspace, 1
bind = $mainMod, 2, workspace, 2
bind = $mainMod, 3, workspace, 3
bind = $mainMod, 4, workspace, 4
bind = $mainMod, 5, workspace, 5
bind = $mainMod, 6, workspace, 6
bind = $mainMod, 7, workspace, 7
bind = $mainMod, 8, workspace, 8
bind = $mainMod, 9, workspace, 9
bind = $mainMod, 0, workspace, 10

# Move active window to a workspace with mainMod + SHIFT + [0-9]
bind = $mainMod SHIFT, 1, movetoworkspace, 1
bind = $mainMod SHIFT, 2, movetoworkspace, 2
bind = $mainMod SHIFT, 3, movetoworkspace, 3
bind = $mainMod SHIFT, 4, movetoworkspace, 4
bind = $mainMod SHIFT, 5, movetoworkspace, 5
bind = $mainMod SHIFT, 6, movetoworkspace, 6
bind = $mainMod SHIFT, 7, movetoworkspace, 7
bind = $mainMod SHIFT, 8, movetoworkspace, 8
bind = $mainMod SHIFT, 9, movetoworkspace, 9
bind = $mainMod SHIFT, 0, movetoworkspace, 10

bind = $mainMod SHIFT, H, swapwindow, l
bind = $mainMod SHIFT, L, swapwindow, r
bind = $mainMod SHIFT, K, swapwindow, k
bind = $mainMod SHIFT, J, swapwindow, j

# Laptop multimedia keys for volume and LCD brightness
bindel = ,XF86AudioRaiseVolume, exec, pactl set-sink-volume @DEFAULT_SINK@ +5% && if [[ $(pactl get-sink-volume @DEFAULT_SINK@ | grep -o -E '[0-9]{1,3}%' | head -1 | tr -d '%') -gt 100 ]]; then pactl set-sink-volume @DEFAULT_SINK@ 100%; fi
bindel = ,XF86AudioLowerVolume, exec, pactl set-sink-volume @DEFAULT_SINK@ -5%
bindel = ,XF86AudioMute, exec, pactl set-sink-mute @DEFAULT_SINK@ toggle
bindel = ,XF86AudioMicMute, exec, pactl set-source-mute @DEFAULT_SOURCE@ toggle; notif=$(pactl -- get-source-mute @DEFAULT_SOURCE@) | hyprctl notify -1 3000 0 $notif
bindel = ,XF86MonBrightnessUp, exec, brightnessctl -e4 -n2 set 5%+
bindel = ,XF86MonBrightnessDown, exec, brightnessctl -e4 -n2 set 5%-

# Requires playerctl
bindl = , XF86AudioNext, exec, playerctl next
bindl = , XF86AudioPause, exec, playerctl play-pause
bindl = , XF86AudioPlay, exec, playerctl play-pause
bindl = , XF86AudioPrev, exec, playerctl previous

##############################
### WINDOWS AND WORKSPACES ###
##############################

windowrule = workspace 1,match:class org.mozilla.Thunderbird
windowrule = workspace 3,match:class firefox
windowrule = workspace 4,match:class com.mitchellh.ghostty
windowrule = workspace 5,match:class org.kde.Dolphin
windowrule = workspace 6,match:class gimp

windowrule = float center,match:modal 1

# Ignore maximize requests from apps
windowrule = suppress_event maximize,match:class .*

windowrule = float center,match:class gogo

#########################
### HOSTNAME SPECIFIC ###
#########################

source = ~/.config/hypr/hostname.conf
